# 注册

## /auth/register 方法：post

### 样例输入：

request body：application/json

```
{
  "email": "string",
  "passWord": "string",
  "passWordAgain": "string",
  "username": "string"
}
```

### 样例输出

#### 200，400

```
{
  "message": "string"
}
```

# 登录

## /auth/login 方法：post

### 样例输入：

request body：application/json

```
{
  "username": "string",
  "password": "string",
}
```

### 样例输出

#### 200，400

```
{
  "message": "string"
}
```



# 修改密码

## /auth/changePassword post

### 输入

application/json

```
{
	originalPassWord:"string",
	newPassword:"string",
}
```

## 输出

200（成功），400（失败）

```
{
	message:"string"
}
```



# 添加管理员

## /superadmin/addAdmin

### 输入

```
{
	username:"string",
	password:"string",
	email:"string"
}
```

### 输出

200（成功），400（失败）

```
{
	message:"string"	
}
```



# 用户信息展示

## /user/userinfo

### 输出

```
{
	username:"string";
	role:"string";
	book:[
		{
			status:"string";//判断是预约书还是借书
			borrowDate:"string";
			returnDate:"string";
			reservationDate:"";	
            name:"string",
            uniquebookMark:"string"
		}
	]
}
```



# 获得图书馆信息

# /visitor/libraryInfo post

### 输入：

无

### 输出

```
libraryList:
[
	{
		libraryID:"string",
		libraryName:"string"
	}
]
```



# 新书上传

## /admin/uploadNewBook 方法：post form-data

### 参数：

```
author:string
bookcoverimage:文件
description:string
isbn:string
name:string
publicationDate:string Pattern=("yyyy-MM-dd")
```

### 样例输出：

#### 200,400

```
{
  "message": "string"
}
```

#### 403

说明用户权限不足，只有管理员才能上传书本



# 添加书本副本

## /admin/addBookCopy post

### 输入

```
{
	isbn:"string",
	libraryID:"string",
	number:"string"
}
```



# 显示一本书的信息

## /user/getBook?isbn=xxxxxxx get

### 输出

```
{
      "author": "string",
      "content": "string",
      "contentType": "string",
      "description": "string",
      "isbn": "string",
      "name": "string",
      "publicationDate": "2021-03-21T09:50:37.058Z",
      "status": "string",
      "borrower":"string",
      "uniqueBookMark":"string",
      "numberEachLibrary":
      [
      	{
      		"number":"string",
      		"libraryName":"string",
      		"libraryID":"string"
      	}
      ]
}
```

404表示未找到



# 搜索书

## /user/getBook?isbn=???&author=???&bookName=??? get

### 输出：

```
"bookList":[
	{
      "author": "string",
      "content": "string",
      "contentType": "string",
      "description": "string",
      "isbn": "string",
      "name": "string",
      "publicationDate": "2021-03-21T09:50:37.058Z",
      "status": "string",
      "borrower":"string",
      "uniqueBookMark":"string",
      "numberEachLibrary":
      [
      	{
      		"number":"string",
      		"libraryName":"string",
      		"libraryID":"string"
      	}
      ]
	}
]
```

得到图片的方法是使用

```html
<img src="data:contentType;base64,content">
```

例如

```html
<img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/>
```



# 管理员借书给用户

## /admin/lendBookToUser

### 输入

```
{
	"uniqueBookMark":"string",
	"username":"string"
}
```

### 输出

```
{
	message:"string"
}
```



# 管理员接收用户的还书

## /admin/receiveBookFromUser

### 输入

```
{
	"uniqueBookMark":"string"
}
```

### 输出

```
{
	"message":"string"
}
```



# 用户预约图书

## /user/reserveBook

### 输入

```
{
	"uniqueBookMark":"string"
}
```

### 输出

```
{
	"message":"string"
}
```



# 显示用户预约的图书列表

## /admin/showReservation

### 输入

```
{
	"username":"string"
}
```



### 输出

```
{
	"book":
	[
		{
			reservationDate:"string",
			isbn:"string",
			author:"string",
			name:"string",
			uniqueBookMark:"string",
		}
	]
}
```



# 管理员让用户取预约过的图书

## /admin/lendReservedBookToUser

### 输入

```
{
	"username":"string"
	"uniqueBookMarkList":["string","string".....]
}
```

### 输出

```
{
	"message":"string"
}
```

